<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS 변수의 유효 범위</title>
</head>
<body>
    <h1>변수의 유효범위</h1>
    <input type="button" value="전역 | 지역" onclick="test1();">
    <input type="button" value="scope" onclick="test2();">
    <input type="button" value="개선" onclick="test3();">




    <script>
        var a1 = 100; // 전역변수(window(최상위) 객체 속성으로 등록)

        let a2; // es6에 등장한 변수ㄴ
        const a3 = 0; // 상수(ex6에 등장, 전역변수)

        function test1() {
            var a1 = "아"; // 지역변수
            console.log(a1); // 지역변수 a1

            // 일반 함수에서 this는 window를 가리킴.
            console.log(this.a1); // 전역변수 a1, this=window
            console.log(window.a);

            // var 변수의 단점
            var a = true; // 중복 선언 가능
            b = 123; // var없이 변수 선언 가능, 항상 전역변수로 선언됨.
            console.log(window.b);
        }

        /*
            scope : 유효범위
            java의 변수 : scope는 block scope
            js의 변수(var) scope는 function scope를 가지고 있다.
            * js변수 중 const,let은 자바와 동일한 block scope를 가지고 있음
        */
        function test2() {
            var x = 10;
            if(true) {
                // 함수 내부에서 선언한 변수는 어떤 위치는 접근 가능
                var x2 = 10;
            }
            console.log(x);
            console.log(x2);

            for(var i=0; i<10; i++) {

            }
            console.log(i);
        }
    </script>

    <script>
        // console.log(a1);
    </script>
</body>
</html>